@model IEnumerable<OSS.Services.Models.LogModel>

@{
    ViewData["Title"] = "Index";
}
<link href="~/lib/DataTables/css/dataTables.bootstrap4.css" rel="stylesheet"/>

<div id="dvContainer">
    <table id="dataGrid" class="table table-striped table-bordered dt-responsive" width="100%" cellspacing="0">
    </table>
</div>
@section Scripts {
    <script src="~/lib/datatables/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/datatables/js/dataTables.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function() {

            $('#dataGrid').DataTable({
                "ajax": {
                    "url": "@Url.Action("GetList")",
                    "type": "POST",
                    "deferRender": true,
                    "datatype": "json",
                    "contentType": "application/x-www-form-urlencoded; charset=UTF-8",
                },
                //scrollX: true,
                //scrollY: 400,
                info: true,
                paging: true,
                pagingType: 'simple_numbers',
                pageLength: 10,
                "serverSide": false,
                "filter": true,
                "processing": true,
                "orderMulti": false,
                "ordering": true,
                "order": [[ 0, 'desc' ]],
                "columnDefs": [
                    {
                        "targets": [-1],
                        "orderable": false,
                        "searchable": false
                    },
                    {
                        "targets": [0,1,2],
                        "orderable": true,
                        "searchable": true
                    },
                 ],
                "columns": [                  
                    { "data": "CreatedOn", "name": "CreatedOn", "title": "@T("CreatedDate")", 'width': 120},
                    { "data": "Email", "name": "Email", "title": "@T("User")" },
                    { "data": "PageUrl", "name": "PageUrl", "title": "@T("Page")" },
                    { "data": null,  
					  "title": "@T("View")",
                      "width": 40,
                      "render": function(data, type, row, meta) {  
                          return '<a title="View" class="btn btn-outline-default" href="Logs/Delete/' + row.EncrypedId + '"><i class="fa fa-eye"></i></a>';
                        }
                    }
                ]
            });

        });
    </script>
}
